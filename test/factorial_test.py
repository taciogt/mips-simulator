# coding: utf-8
import sys
sys.path.append("../")
from src.program_controller import ProgramController
from src.loader import Loader

controller = ProgramController()
l = Loader()
l.read_mem_values()
controller.pipeline.mem = l.get_mem_x()
controller.pipeline.mem.extend(l.get_mem_y())


controller.pipeline.PC = ["00000000001000010000000000100010",
                          "00100000000000010000000000000001",
                          "10001100000001000000001111101000",
                          "00100000100000100000000000000000",
                          "00010100010000010000000000100100",
                          "00000000010000010001100000100010",
                          "00000000010000110010100000011000",
                          "00100000011000100000000000000000",
                          "00001000000000000000000000010000",
                          "10101100000001010000001111101100",]
                          

controller.run_clocks_continuously()

#00000000001000010000000000100010 ;SUB R0, R1, R1
#00100000000000010000000000000001 ;ADDI R1, R0, 1
#10001100000001000000001111101000 ;LW R4, R0(1000)
#00100000100000100000000000000000 ;ADDI R2, R4, 0
#00010100010000010000000000100100 ; BEQ R2, R1, 36
#00000000010000010001100000100010 ;SUB R3, R2, R1
#00000000010000110010100000011000 ;MUL R5, R2, R3
#00100000011000100000000000000000 ;ADDI R2, R3, 0
#00001000000000000000000000010000 ; JMP 16
#10101100000001010000001111101100 ;SW R5, R0(1004)
